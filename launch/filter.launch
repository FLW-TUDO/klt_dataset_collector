<launch>
  <node pkg="nodelet" type="nodelet" name="pcl_manager" args="manager" output="screen" />

  <node pkg="nodelet" type="nodelet" name="passthrough_z" args="load pcl/PassThrough pcl_manager" output="screen">
    <remap from="~input" to="/zivid_camera/points/xyzrgba"/>
    <remap from="~output" to="/passthrough/z_filtered"/>
    <rosparam>
      filter_field_name: z
      filter_limit_min:  -0.742
      filter_limit_max:  2.0
      filter_limit_negative: False
    </rosparam>
    <param name="~input_frame" type="str" value="iiwa_link_0" />
    <param name="~output_frame" type="str" value="iiwa_link_0" />
  </node>

  <node pkg="nodelet" type="nodelet" name="passthrough_y" args="load pcl/PassThrough pcl_manager" output="screen">
    <remap from="~input" to="/passthrough/z_filtered"/>
    <remap from="~output" to="/passthrough/y_filtered"/>
    <rosparam>
      filter_field_name: y
      filter_limit_min:  -0.24
      filter_limit_max:  0.3
      filter_limit_negative: False
      input_frame: iiwa_link_0
      output_frame: iiwa_link_0
    </rosparam>
    <param name="~input_frame" type="str" value="iiwa_link_0" />
    <param name="~output_frame" type="str" value="iiwa_link_0" />
  </node>


  <node pkg="nodelet" type="nodelet" name="passthrough_x" args="load pcl/PassThrough pcl_manager" output="screen">
    <remap from="~input" to="/passthrough/y_filtered"/>
    <remap from="~output" to="/passthrough/box_filtered"/>
    <rosparam>
      filter_field_name: x
      filter_limit_min:  0.83
      filter_limit_max:  1.17
      filter_limit_negative: False
      input_frame: iiwa_link_0
      output_frame: iiwa_link_0
    </rosparam>
    <param name="~input_frame" type="str" value="iiwa_link_0" />
    <param name="~output_frame" type="str" value="iiwa_link_0" />
  </node>
</launch>
